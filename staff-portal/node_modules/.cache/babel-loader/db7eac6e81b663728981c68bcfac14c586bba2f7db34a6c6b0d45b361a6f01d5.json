{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rauna\\\\OneDrive\\\\Desktop\\\\v1.0\\\\staff-portal\\\\src\\\\pages\\\\Receptionist\\\\AddPatient.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { UserIcon, PhoneIcon, MailIcon, CalendarIcon, LocationMarkerIcon, PlusIcon, XIcon } from '@heroicons/react/outline';\nimport { patientAPI } from '../../services/api';\nimport Loader from '../../components/Loader';\nimport toast from 'react-hot-toast';\n\n// Helper for nested state updates\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst setNestedValue = (obj, path, value) => {\n  const keys = path.split('.');\n  const lastKey = keys.pop();\n  const deep = keys.reduce((acc, key) => {\n    if (!acc[key]) acc[key] = {};\n    return acc[key];\n  }, obj);\n  deep[lastKey] = value;\n};\nconst initialState = {\n  firstName: '',\n  lastName: '',\n  dateOfBirth: '',\n  gender: '',\n  phone: '',\n  email: '',\n  address: '',\n  bloodType: '',\n  emergencyContact: {\n    name: '',\n    relationship: '',\n    phone: ''\n  },\n  medicalHistory: [],\n  allergies: [],\n  medications: [],\n  insurance: {\n    provider: '',\n    policyNumber: '',\n    groupNumber: ''\n  },\n  status: 'active'\n};\nconst AddPatient = () => {\n  _s();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState(initialState);\n  const [newMedical, setNewMedical] = useState('');\n  const [newAllergy, setNewAllergy] = useState('');\n  const [newMedication, setNewMedication] = useState('');\n\n  // Robust input handler for flat and nested fields\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => {\n      const updated = {\n        ...prev\n      };\n      if (name.includes('.')) {\n        setNestedValue(updated, name, value);\n      } else {\n        updated[name] = value;\n      }\n      return updated;\n    });\n  };\n\n  // Tag add/remove helpers\n  const addTag = (field, value, setter) => {\n    if (value.trim()) {\n      setForm(prev => ({\n        ...prev,\n        [field]: [...prev[field], value.trim()]\n      }));\n      setter('');\n    }\n  };\n  const removeTag = (field, idx) => {\n    setForm(prev => ({\n      ...prev,\n      [field]: prev[field].filter((_, i) => i !== idx)\n    }));\n  };\n\n  // Form validation\n  const validate = () => {\n    const required = ['firstName', 'lastName', 'dateOfBirth', 'gender', 'phone'];\n    for (const field of required) {\n      if (!form[field]) {\n        toast.error(`${field.charAt(0).toUpperCase() + field.slice(1)} is required`);\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // Form submit\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validate()) return;\n    try {\n      setLoading(true);\n      await patientAPI.createPatient(form);\n      toast.success('Patient added successfully');\n      navigate('/patients');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to add patient');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Reusable input field\n  const InputField = ({\n    label,\n    name,\n    type = 'text',\n    required = false,\n    icon: Icon,\n    ...props\n  }) => {\n    var _name$split$reduce, _form$name;\n    // Support nested fields\n    let value = name.includes('.') ? (_name$split$reduce = name.split('.').reduce((acc, key) => acc === null || acc === void 0 ? void 0 : acc[key], form)) !== null && _name$split$reduce !== void 0 ? _name$split$reduce : '' : (_form$name = form[name]) !== null && _form$name !== void 0 ? _form$name : '';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-1\",\n        children: [label, \" \", required && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500\",\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [Icon && /*#__PURE__*/_jsxDEV(Icon, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: type,\n          name: name,\n          value: value,\n          onChange: handleInputChange,\n          required: required,\n          className: `w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${Icon ? 'pl-10' : ''}`,\n          ...props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Tag list component\n  const TagList = ({\n    items,\n    onRemove,\n    label,\n    onAdd,\n    newItem,\n    setNewItem,\n    placeholder\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm font-medium text-gray-700 mb-1\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-2 mb-2\",\n      children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",\n        children: [item, /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => onRemove(index),\n          className: \"ml-1 text-blue-600 hover:text-blue-800\",\n          children: /*#__PURE__*/_jsxDEV(XIcon, {\n            className: \"h-3 w-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newItem,\n        onChange: e => setNewItem(e.target.value),\n        placeholder: placeholder,\n        className: \"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n        onKeyDown: e => e.key === 'Enter' && (e.preventDefault(), onAdd())\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onAdd,\n        className: \"px-3 py-2 bg-blue-600 text-white rounded-r-md hover:bg-blue-700\",\n        children: /*#__PURE__*/_jsxDEV(PlusIcon, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {\n    size: \"lg\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: \"Add New Patient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Enter patient information to create a new record\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Basic Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"First Name\",\n            name: \"firstName\",\n            required: true,\n            icon: UserIcon,\n            placeholder: \"Enter first name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Last Name\",\n            name: \"lastName\",\n            required: true,\n            icon: UserIcon,\n            placeholder: \"Enter last name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Date of Birth\",\n            name: \"dateOfBirth\",\n            type: \"date\",\n            required: true,\n            icon: CalendarIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: [\"Gender \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-500\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"gender\",\n              value: form.gender,\n              onChange: handleInputChange,\n              required: true,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select gender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"male\",\n                children: \"Male\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"female\",\n                children: \"Female\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"Other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Phone Number\",\n            name: \"phone\",\n            type: \"tel\",\n            required: true,\n            icon: PhoneIcon,\n            placeholder: \"Enter phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Email\",\n            name: \"email\",\n            type: \"email\",\n            icon: MailIcon,\n            placeholder: \"Enter email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Blood Type\",\n            name: \"bloodType\",\n            placeholder: \"e.g., A+, B-, O+, AB+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"status\",\n              value: form.status,\n              onChange: handleInputChange,\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"active\",\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"inactive\",\n                children: \"Inactive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"critical\",\n                children: \"Critical\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Address\",\n            name: \"address\",\n            icon: LocationMarkerIcon,\n            placeholder: \"Enter full address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Emergency Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Contact Name\",\n            name: \"emergencyContact.name\",\n            placeholder: \"Enter contact name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Relationship\",\n            name: \"emergencyContact.relationship\",\n            placeholder: \"e.g., Spouse, Parent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Contact Phone\",\n            name: \"emergencyContact.phone\",\n            type: \"tel\",\n            placeholder: \"Enter contact phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Medical Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(TagList, {\n            label: \"Medical History\",\n            items: form.medicalHistory,\n            onRemove: idx => removeTag('medicalHistory', idx),\n            onAdd: () => addTag('medicalHistory', newMedical, setNewMedical),\n            newItem: newMedical,\n            setNewItem: setNewMedical,\n            placeholder: \"Add medical condition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TagList, {\n            label: \"Allergies\",\n            items: form.allergies,\n            onRemove: idx => removeTag('allergies', idx),\n            onAdd: () => addTag('allergies', newAllergy, setNewAllergy),\n            newItem: newAllergy,\n            setNewItem: setNewAllergy,\n            placeholder: \"Add allergy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TagList, {\n            label: \"Current Medications\",\n            items: form.medications,\n            onRemove: idx => removeTag('medications', idx),\n            onAdd: () => addTag('medications', newMedication, setNewMedication),\n            newItem: newMedication,\n            setNewItem: setNewMedication,\n            placeholder: \"Add medication\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Insurance Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Insurance Provider\",\n            name: \"insurance.provider\",\n            placeholder: \"Enter insurance provider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Policy Number\",\n            name: \"insurance.policyNumber\",\n            placeholder: \"Enter policy number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Group Number\",\n            name: \"insurance.groupNumber\",\n            placeholder: \"Enter group number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => navigate('/patients'),\n          className: \"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          className: \"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\",\n          children: loading ? 'Adding...' : 'Add Patient'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_s(AddPatient, \"jk037O9sq3yXKzbyYSn2Yqv42NI=\", false, function () {\n  return [useNavigate];\n});\n_c = AddPatient;\nexport default AddPatient;\nvar _c;\n$RefreshReg$(_c, \"AddPatient\");","map":{"version":3,"names":["React","useState","useNavigate","UserIcon","PhoneIcon","MailIcon","CalendarIcon","LocationMarkerIcon","PlusIcon","XIcon","patientAPI","Loader","toast","jsxDEV","_jsxDEV","setNestedValue","obj","path","value","keys","split","lastKey","pop","deep","reduce","acc","key","initialState","firstName","lastName","dateOfBirth","gender","phone","email","address","bloodType","emergencyContact","name","relationship","medicalHistory","allergies","medications","insurance","provider","policyNumber","groupNumber","status","AddPatient","_s","navigate","loading","setLoading","form","setForm","newMedical","setNewMedical","newAllergy","setNewAllergy","newMedication","setNewMedication","handleInputChange","e","target","prev","updated","includes","addTag","field","setter","trim","removeTag","idx","filter","_","i","validate","required","error","charAt","toUpperCase","slice","handleSubmit","preventDefault","createPatient","success","_error$response","_error$response$data","response","data","message","InputField","label","type","icon","Icon","props","_name$split$reduce","_form$name","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onChange","TagList","items","onRemove","onAdd","newItem","setNewItem","placeholder","map","item","index","onClick","onKeyDown","size","onSubmit","disabled","_c","$RefreshReg$"],"sources":["C:/Users/rauna/OneDrive/Desktop/v1.0/staff-portal/src/pages/Receptionist/AddPatient.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  UserIcon,\n  PhoneIcon,\n  MailIcon,\n  CalendarIcon,\n  LocationMarkerIcon,\n  PlusIcon,\n  XIcon\n} from '@heroicons/react/outline';\nimport { patientAPI } from '../../services/api';\nimport Loader from '../../components/Loader';\nimport toast from 'react-hot-toast';\n\n// Helper for nested state updates\nconst setNestedValue = (obj, path, value) => {\n  const keys = path.split('.');\n  const lastKey = keys.pop();\n  const deep = keys.reduce((acc, key) => {\n    if (!acc[key]) acc[key] = {};\n    return acc[key];\n  }, obj);\n  deep[lastKey] = value;\n};\n\nconst initialState = {\n  firstName: '',\n  lastName: '',\n  dateOfBirth: '',\n  gender: '',\n  phone: '',\n  email: '',\n  address: '',\n  bloodType: '',\n  emergencyContact: {\n    name: '',\n    relationship: '',\n    phone: ''\n  },\n  medicalHistory: [],\n  allergies: [],\n  medications: [],\n  insurance: {\n    provider: '',\n    policyNumber: '',\n    groupNumber: ''\n  },\n  status: 'active'\n};\n\nconst AddPatient = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState(initialState);\n  const [newMedical, setNewMedical] = useState('');\n  const [newAllergy, setNewAllergy] = useState('');\n  const [newMedication, setNewMedication] = useState('');\n\n  // Robust input handler for flat and nested fields\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setForm(prev => {\n      const updated = { ...prev };\n      if (name.includes('.')) {\n        setNestedValue(updated, name, value);\n      } else {\n        updated[name] = value;\n      }\n      return updated;\n    });\n  };\n\n  // Tag add/remove helpers\n  const addTag = (field, value, setter) => {\n    if (value.trim()) {\n      setForm(prev => ({ ...prev, [field]: [...prev[field], value.trim()] }));\n      setter('');\n    }\n  };\n  const removeTag = (field, idx) => {\n    setForm(prev => ({ ...prev, [field]: prev[field].filter((_, i) => i !== idx) }));\n  };\n\n  // Form validation\n  const validate = () => {\n    const required = ['firstName', 'lastName', 'dateOfBirth', 'gender', 'phone'];\n    for (const field of required) {\n      if (!form[field]) {\n        toast.error(`${field.charAt(0).toUpperCase() + field.slice(1)} is required`);\n        return false;\n      }\n    }\n    return true;\n  };\n\n  // Form submit\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validate()) return;\n    try {\n      setLoading(true);\n      await patientAPI.createPatient(form);\n      toast.success('Patient added successfully');\n      navigate('/patients');\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Failed to add patient');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Reusable input field\n  const InputField = ({ label, name, type = 'text', required = false, icon: Icon, ...props }) => {\n    // Support nested fields\n    let value = name.includes('.')\n      ? name.split('.').reduce((acc, key) => acc?.[key], form) ?? ''\n      : form[name] ?? '';\n    return (\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n        <div className=\"relative\">\n          {Icon && (\n            <Icon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n          )}\n          <input\n            type={type}\n            name={name}\n            value={value}\n            onChange={handleInputChange}\n            required={required}\n            className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${Icon ? 'pl-10' : ''}`}\n            {...props}\n          />\n        </div>\n      </div>\n    );\n  };\n\n  // Tag list component\n  const TagList = ({ items, onRemove, label, onAdd, newItem, setNewItem, placeholder }) => (\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>\n      <div className=\"flex flex-wrap gap-2 mb-2\">\n        {items.map((item, index) => (\n          <span\n            key={index}\n            className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n          >\n            {item}\n            <button\n              type=\"button\"\n              onClick={() => onRemove(index)}\n              className=\"ml-1 text-blue-600 hover:text-blue-800\"\n            >\n              <XIcon className=\"h-3 w-3\" />\n            </button>\n          </span>\n        ))}\n      </div>\n      <div className=\"flex\">\n        <input\n          type=\"text\"\n          value={newItem}\n          onChange={e => setNewItem(e.target.value)}\n          placeholder={placeholder}\n          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          onKeyDown={e => e.key === 'Enter' && (e.preventDefault(), onAdd())}\n        />\n        <button\n          type=\"button\"\n          onClick={onAdd}\n          className=\"px-3 py-2 bg-blue-600 text-white rounded-r-md hover:bg-blue-700\"\n        >\n          <PlusIcon className=\"h-4 w-4\" />\n        </button>\n      </div>\n    </div>\n  );\n\n  if (loading) return <Loader size=\"lg\" />;\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Add New Patient</h1>\n        <p className=\"text-gray-600\">Enter patient information to create a new record</p>\n      </div>\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Basic Info */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Basic Information</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <InputField label=\"First Name\" name=\"firstName\" required icon={UserIcon} placeholder=\"Enter first name\" />\n            <InputField label=\"Last Name\" name=\"lastName\" required icon={UserIcon} placeholder=\"Enter last name\" />\n            <InputField label=\"Date of Birth\" name=\"dateOfBirth\" type=\"date\" required icon={CalendarIcon} />\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Gender <span className=\"text-red-500\">*</span>\n              </label>\n              <select\n                name=\"gender\"\n                value={form.gender}\n                onChange={handleInputChange}\n                required\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select gender</option>\n                <option value=\"male\">Male</option>\n                <option value=\"female\">Female</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n            <InputField label=\"Phone Number\" name=\"phone\" type=\"tel\" required icon={PhoneIcon} placeholder=\"Enter phone number\" />\n            <InputField label=\"Email\" name=\"email\" type=\"email\" icon={MailIcon} placeholder=\"Enter email address\" />\n            <InputField label=\"Blood Type\" name=\"bloodType\" placeholder=\"e.g., A+, B-, O+, AB+\" />\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n              <select\n                name=\"status\"\n                value={form.status}\n                onChange={handleInputChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"active\">Active</option>\n                <option value=\"inactive\">Inactive</option>\n                <option value=\"critical\">Critical</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"mt-6\">\n            <InputField label=\"Address\" name=\"address\" icon={LocationMarkerIcon} placeholder=\"Enter full address\" />\n          </div>\n        </div>\n        {/* Emergency Contact */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Emergency Contact</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <InputField label=\"Contact Name\" name=\"emergencyContact.name\" placeholder=\"Enter contact name\" />\n            <InputField label=\"Relationship\" name=\"emergencyContact.relationship\" placeholder=\"e.g., Spouse, Parent\" />\n            <InputField label=\"Contact Phone\" name=\"emergencyContact.phone\" type=\"tel\" placeholder=\"Enter contact phone\" />\n          </div>\n        </div>\n        {/* Medical Info */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Medical Information</h2>\n          <div className=\"space-y-6\">\n            <TagList\n              label=\"Medical History\"\n              items={form.medicalHistory}\n              onRemove={idx => removeTag('medicalHistory', idx)}\n              onAdd={() => addTag('medicalHistory', newMedical, setNewMedical)}\n              newItem={newMedical}\n              setNewItem={setNewMedical}\n              placeholder=\"Add medical condition\"\n            />\n            <TagList\n              label=\"Allergies\"\n              items={form.allergies}\n              onRemove={idx => removeTag('allergies', idx)}\n              onAdd={() => addTag('allergies', newAllergy, setNewAllergy)}\n              newItem={newAllergy}\n              setNewItem={setNewAllergy}\n              placeholder=\"Add allergy\"\n            />\n            <TagList\n              label=\"Current Medications\"\n              items={form.medications}\n              onRemove={idx => removeTag('medications', idx)}\n              onAdd={() => addTag('medications', newMedication, setNewMedication)}\n              newItem={newMedication}\n              setNewItem={setNewMedication}\n              placeholder=\"Add medication\"\n            />\n          </div>\n        </div>\n        {/* Insurance Info */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Insurance Information</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <InputField label=\"Insurance Provider\" name=\"insurance.provider\" placeholder=\"Enter insurance provider\" />\n            <InputField label=\"Policy Number\" name=\"insurance.policyNumber\" placeholder=\"Enter policy number\" />\n            <InputField label=\"Group Number\" name=\"insurance.groupNumber\" placeholder=\"Enter group number\" />\n          </div>\n        </div>\n        {/* Actions */}\n        <div className=\"flex justify-end space-x-4\">\n          <button\n            type=\"button\"\n            onClick={() => navigate('/patients')}\n            className=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n          >\n            {loading ? 'Adding...' : 'Add Patient'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AddPatient;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SACEC,QAAQ,EACRC,SAAS,EACTC,QAAQ,EACRC,YAAY,EACZC,kBAAkB,EAClBC,QAAQ,EACRC,KAAK,QACA,0BAA0B;AACjC,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,KAAK,MAAM,iBAAiB;;AAEnC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,cAAc,GAAGA,CAACC,GAAG,EAAEC,IAAI,EAAEC,KAAK,KAAK;EAC3C,MAAMC,IAAI,GAAGF,IAAI,CAACG,KAAK,CAAC,GAAG,CAAC;EAC5B,MAAMC,OAAO,GAAGF,IAAI,CAACG,GAAG,CAAC,CAAC;EAC1B,MAAMC,IAAI,GAAGJ,IAAI,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IACrC,IAAI,CAACD,GAAG,CAACC,GAAG,CAAC,EAAED,GAAG,CAACC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC5B,OAAOD,GAAG,CAACC,GAAG,CAAC;EACjB,CAAC,EAAEV,GAAG,CAAC;EACPO,IAAI,CAACF,OAAO,CAAC,GAAGH,KAAK;AACvB,CAAC;AAED,MAAMS,YAAY,GAAG;EACnBC,SAAS,EAAE,EAAE;EACbC,QAAQ,EAAE,EAAE;EACZC,WAAW,EAAE,EAAE;EACfC,MAAM,EAAE,EAAE;EACVC,KAAK,EAAE,EAAE;EACTC,KAAK,EAAE,EAAE;EACTC,OAAO,EAAE,EAAE;EACXC,SAAS,EAAE,EAAE;EACbC,gBAAgB,EAAE;IAChBC,IAAI,EAAE,EAAE;IACRC,YAAY,EAAE,EAAE;IAChBN,KAAK,EAAE;EACT,CAAC;EACDO,cAAc,EAAE,EAAE;EAClBC,SAAS,EAAE,EAAE;EACbC,WAAW,EAAE,EAAE;EACfC,SAAS,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE,EAAE;IAChBC,WAAW,EAAE;EACf,CAAC;EACDC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAG/C,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACgD,OAAO,EAAEC,UAAU,CAAC,GAAGlD,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmD,IAAI,EAAEC,OAAO,CAAC,GAAGpD,QAAQ,CAAC0B,YAAY,CAAC;EAC9C,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAGtD,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACuD,UAAU,EAAEC,aAAa,CAAC,GAAGxD,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyD,aAAa,EAAEC,gBAAgB,CAAC,GAAG1D,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACA,MAAM2D,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAExB,IAAI;MAAEnB;IAAM,CAAC,GAAG2C,CAAC,CAACC,MAAM;IAChCT,OAAO,CAACU,IAAI,IAAI;MACd,MAAMC,OAAO,GAAG;QAAE,GAAGD;MAAK,CAAC;MAC3B,IAAI1B,IAAI,CAAC4B,QAAQ,CAAC,GAAG,CAAC,EAAE;QACtBlD,cAAc,CAACiD,OAAO,EAAE3B,IAAI,EAAEnB,KAAK,CAAC;MACtC,CAAC,MAAM;QACL8C,OAAO,CAAC3B,IAAI,CAAC,GAAGnB,KAAK;MACvB;MACA,OAAO8C,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAME,MAAM,GAAGA,CAACC,KAAK,EAAEjD,KAAK,EAAEkD,MAAM,KAAK;IACvC,IAAIlD,KAAK,CAACmD,IAAI,CAAC,CAAC,EAAE;MAChBhB,OAAO,CAACU,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACI,KAAK,GAAG,CAAC,GAAGJ,IAAI,CAACI,KAAK,CAAC,EAAEjD,KAAK,CAACmD,IAAI,CAAC,CAAC;MAAE,CAAC,CAAC,CAAC;MACvED,MAAM,CAAC,EAAE,CAAC;IACZ;EACF,CAAC;EACD,MAAME,SAAS,GAAGA,CAACH,KAAK,EAAEI,GAAG,KAAK;IAChClB,OAAO,CAACU,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACI,KAAK,GAAGJ,IAAI,CAACI,KAAK,CAAC,CAACK,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,KAAKH,GAAG;IAAE,CAAC,CAAC,CAAC;EAClF,CAAC;;EAED;EACA,MAAMI,QAAQ,GAAGA,CAAA,KAAM;IACrB,MAAMC,QAAQ,GAAG,CAAC,WAAW,EAAE,UAAU,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,CAAC;IAC5E,KAAK,MAAMT,KAAK,IAAIS,QAAQ,EAAE;MAC5B,IAAI,CAACxB,IAAI,CAACe,KAAK,CAAC,EAAE;QAChBvD,KAAK,CAACiE,KAAK,CAAC,GAAGV,KAAK,CAACW,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGZ,KAAK,CAACa,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC;QAC5E,OAAO,KAAK;MACd;IACF;IACA,OAAO,IAAI;EACb,CAAC;;EAED;EACA,MAAMC,YAAY,GAAG,MAAOpB,CAAC,IAAK;IAChCA,CAAC,CAACqB,cAAc,CAAC,CAAC;IAClB,IAAI,CAACP,QAAQ,CAAC,CAAC,EAAE;IACjB,IAAI;MACFxB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMzC,UAAU,CAACyE,aAAa,CAAC/B,IAAI,CAAC;MACpCxC,KAAK,CAACwE,OAAO,CAAC,4BAA4B,CAAC;MAC3CnC,QAAQ,CAAC,WAAW,CAAC;IACvB,CAAC,CAAC,OAAO4B,KAAK,EAAE;MAAA,IAAAQ,eAAA,EAAAC,oBAAA;MACd1E,KAAK,CAACiE,KAAK,CAAC,EAAAQ,eAAA,GAAAR,KAAK,CAACU,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBG,IAAI,cAAAF,oBAAA,uBAApBA,oBAAA,CAAsBG,OAAO,KAAI,uBAAuB,CAAC;IACvE,CAAC,SAAS;MACRtC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,MAAMuC,UAAU,GAAGA,CAAC;IAAEC,KAAK;IAAEtD,IAAI;IAAEuD,IAAI,GAAG,MAAM;IAAEhB,QAAQ,GAAG,KAAK;IAAEiB,IAAI,EAAEC,IAAI;IAAE,GAAGC;EAAM,CAAC,KAAK;IAAA,IAAAC,kBAAA,EAAAC,UAAA;IAC7F;IACA,IAAI/E,KAAK,GAAGmB,IAAI,CAAC4B,QAAQ,CAAC,GAAG,CAAC,IAAA+B,kBAAA,GAC1B3D,IAAI,CAACjB,KAAK,CAAC,GAAG,CAAC,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAGC,GAAG,CAAC,EAAE0B,IAAI,CAAC,cAAA4C,kBAAA,cAAAA,kBAAA,GAAI,EAAE,IAAAC,UAAA,GAC5D7C,IAAI,CAACf,IAAI,CAAC,cAAA4D,UAAA,cAAAA,UAAA,GAAI,EAAE;IACpB,oBACEnF,OAAA;MAAAoF,QAAA,gBACEpF,OAAA;QAAOqF,SAAS,EAAC,8CAA8C;QAAAD,QAAA,GAC5DP,KAAK,EAAC,GAAC,EAACf,QAAQ,iBAAI9D,OAAA;UAAMqF,SAAS,EAAC,cAAc;UAAAD,QAAA,EAAC;QAAC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC,eACRzF,OAAA;QAAKqF,SAAS,EAAC,UAAU;QAAAD,QAAA,GACtBJ,IAAI,iBACHhF,OAAA,CAACgF,IAAI;UAACK,SAAS,EAAC;QAA0E;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAC7F,eACDzF,OAAA;UACE8E,IAAI,EAAEA,IAAK;UACXvD,IAAI,EAAEA,IAAK;UACXnB,KAAK,EAAEA,KAAM;UACbsF,QAAQ,EAAE5C,iBAAkB;UAC5BgB,QAAQ,EAAEA,QAAS;UACnBuB,SAAS,EAAE,6GAA6GL,IAAI,GAAG,OAAO,GAAG,EAAE,EAAG;UAAA,GAC1IC;QAAK;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;;EAED;EACA,MAAME,OAAO,GAAGA,CAAC;IAAEC,KAAK;IAAEC,QAAQ;IAAEhB,KAAK;IAAEiB,KAAK;IAAEC,OAAO;IAAEC,UAAU;IAAEC;EAAY,CAAC,kBAClFjG,OAAA;IAAAoF,QAAA,gBACEpF,OAAA;MAAOqF,SAAS,EAAC,8CAA8C;MAAAD,QAAA,EAAEP;IAAK;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC/EzF,OAAA;MAAKqF,SAAS,EAAC,2BAA2B;MAAAD,QAAA,EACvCQ,KAAK,CAACM,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACrBpG,OAAA;QAEEqF,SAAS,EAAC,+FAA+F;QAAAD,QAAA,GAExGe,IAAI,eACLnG,OAAA;UACE8E,IAAI,EAAC,QAAQ;UACbuB,OAAO,EAAEA,CAAA,KAAMR,QAAQ,CAACO,KAAK,CAAE;UAC/Bf,SAAS,EAAC,wCAAwC;UAAAD,QAAA,eAElDpF,OAAA,CAACL,KAAK;YAAC0F,SAAS,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC;MAAA,GAVJW,KAAK;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWN,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNzF,OAAA;MAAKqF,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACnBpF,OAAA;QACE8E,IAAI,EAAC,MAAM;QACX1E,KAAK,EAAE2F,OAAQ;QACfL,QAAQ,EAAE3C,CAAC,IAAIiD,UAAU,CAACjD,CAAC,CAACC,MAAM,CAAC5C,KAAK,CAAE;QAC1C6F,WAAW,EAAEA,WAAY;QACzBZ,SAAS,EAAC,6GAA6G;QACvHiB,SAAS,EAAEvD,CAAC,IAAIA,CAAC,CAACnC,GAAG,KAAK,OAAO,KAAKmC,CAAC,CAACqB,cAAc,CAAC,CAAC,EAAE0B,KAAK,CAAC,CAAC;MAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC,eACFzF,OAAA;QACE8E,IAAI,EAAC,QAAQ;QACbuB,OAAO,EAAEP,KAAM;QACfT,SAAS,EAAC,iEAAiE;QAAAD,QAAA,eAE3EpF,OAAA,CAACN,QAAQ;UAAC2F,SAAS,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,IAAIrD,OAAO,EAAE,oBAAOpC,OAAA,CAACH,MAAM;IAAC0G,IAAI,EAAC;EAAI;IAAAjB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAExC,oBACEzF,OAAA;IAAKqF,SAAS,EAAC,mBAAmB;IAAAD,QAAA,gBAChCpF,OAAA;MAAKqF,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACnBpF,OAAA;QAAIqF,SAAS,EAAC,kCAAkC;QAAAD,QAAA,EAAC;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrEzF,OAAA;QAAGqF,SAAS,EAAC,eAAe;QAAAD,QAAA,EAAC;MAAgD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9E,CAAC,eACNzF,OAAA;MAAMwG,QAAQ,EAAErC,YAAa;MAACkB,SAAS,EAAC,WAAW;MAAAD,QAAA,gBAEjDpF,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAD,QAAA,gBAChDpF,OAAA;UAAIqF,SAAS,EAAC,0CAA0C;UAAAD,QAAA,EAAC;QAAiB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/EzF,OAAA;UAAKqF,SAAS,EAAC,uCAAuC;UAAAD,QAAA,gBACpDpF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,YAAY;YAACtD,IAAI,EAAC,WAAW;YAACuC,QAAQ;YAACiB,IAAI,EAAE1F,QAAS;YAAC4G,WAAW,EAAC;UAAkB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC1GzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,WAAW;YAACtD,IAAI,EAAC,UAAU;YAACuC,QAAQ;YAACiB,IAAI,EAAE1F,QAAS;YAAC4G,WAAW,EAAC;UAAiB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACvGzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,eAAe;YAACtD,IAAI,EAAC,aAAa;YAACuD,IAAI,EAAC,MAAM;YAAChB,QAAQ;YAACiB,IAAI,EAAEvF;UAAa;YAAA8F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAChGzF,OAAA;YAAAoF,QAAA,gBACEpF,OAAA;cAAOqF,SAAS,EAAC,8CAA8C;cAAAD,QAAA,GAAC,SACvD,eAAApF,OAAA;gBAAMqF,SAAS,EAAC,cAAc;gBAAAD,QAAA,EAAC;cAAC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC,eACRzF,OAAA;cACEuB,IAAI,EAAC,QAAQ;cACbnB,KAAK,EAAEkC,IAAI,CAACrB,MAAO;cACnByE,QAAQ,EAAE5C,iBAAkB;cAC5BgB,QAAQ;cACRuB,SAAS,EAAC,2GAA2G;cAAAD,QAAA,gBAErHpF,OAAA;gBAAQI,KAAK,EAAC,EAAE;gBAAAgF,QAAA,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACvCzF,OAAA;gBAAQI,KAAK,EAAC,MAAM;gBAAAgF,QAAA,EAAC;cAAI;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAClCzF,OAAA;gBAAQI,KAAK,EAAC,QAAQ;gBAAAgF,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACtCzF,OAAA;gBAAQI,KAAK,EAAC,OAAO;gBAAAgF,QAAA,EAAC;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,cAAc;YAACtD,IAAI,EAAC,OAAO;YAACuD,IAAI,EAAC,KAAK;YAAChB,QAAQ;YAACiB,IAAI,EAAEzF,SAAU;YAAC2G,WAAW,EAAC;UAAoB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtHzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,OAAO;YAACtD,IAAI,EAAC,OAAO;YAACuD,IAAI,EAAC,OAAO;YAACC,IAAI,EAAExF,QAAS;YAAC0G,WAAW,EAAC;UAAqB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxGzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,YAAY;YAACtD,IAAI,EAAC,WAAW;YAAC0E,WAAW,EAAC;UAAuB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtFzF,OAAA;YAAAoF,QAAA,gBACEpF,OAAA;cAAOqF,SAAS,EAAC,8CAA8C;cAAAD,QAAA,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9EzF,OAAA;cACEuB,IAAI,EAAC,QAAQ;cACbnB,KAAK,EAAEkC,IAAI,CAACN,MAAO;cACnB0D,QAAQ,EAAE5C,iBAAkB;cAC5BuC,SAAS,EAAC,2GAA2G;cAAAD,QAAA,gBAErHpF,OAAA;gBAAQI,KAAK,EAAC,QAAQ;gBAAAgF,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACtCzF,OAAA;gBAAQI,KAAK,EAAC,UAAU;gBAAAgF,QAAA,EAAC;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC1CzF,OAAA;gBAAQI,KAAK,EAAC,UAAU;gBAAAgF,QAAA,EAAC;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNzF,OAAA;UAAKqF,SAAS,EAAC,MAAM;UAAAD,QAAA,eACnBpF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,SAAS;YAACtD,IAAI,EAAC,SAAS;YAACwD,IAAI,EAAEtF,kBAAmB;YAACwG,WAAW,EAAC;UAAoB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAD,QAAA,gBAChDpF,OAAA;UAAIqF,SAAS,EAAC,0CAA0C;UAAAD,QAAA,EAAC;QAAiB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/EzF,OAAA;UAAKqF,SAAS,EAAC,uCAAuC;UAAAD,QAAA,gBACpDpF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,cAAc;YAACtD,IAAI,EAAC,uBAAuB;YAAC0E,WAAW,EAAC;UAAoB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjGzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,cAAc;YAACtD,IAAI,EAAC,+BAA+B;YAAC0E,WAAW,EAAC;UAAsB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3GzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,eAAe;YAACtD,IAAI,EAAC,wBAAwB;YAACuD,IAAI,EAAC,KAAK;YAACmB,WAAW,EAAC;UAAqB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5G,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAD,QAAA,gBAChDpF,OAAA;UAAIqF,SAAS,EAAC,0CAA0C;UAAAD,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjFzF,OAAA;UAAKqF,SAAS,EAAC,WAAW;UAAAD,QAAA,gBACxBpF,OAAA,CAAC2F,OAAO;YACNd,KAAK,EAAC,iBAAiB;YACvBe,KAAK,EAAEtD,IAAI,CAACb,cAAe;YAC3BoE,QAAQ,EAAEpC,GAAG,IAAID,SAAS,CAAC,gBAAgB,EAAEC,GAAG,CAAE;YAClDqC,KAAK,EAAEA,CAAA,KAAM1C,MAAM,CAAC,gBAAgB,EAAEZ,UAAU,EAAEC,aAAa,CAAE;YACjEsD,OAAO,EAAEvD,UAAW;YACpBwD,UAAU,EAAEvD,aAAc;YAC1BwD,WAAW,EAAC;UAAuB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,eACFzF,OAAA,CAAC2F,OAAO;YACNd,KAAK,EAAC,WAAW;YACjBe,KAAK,EAAEtD,IAAI,CAACZ,SAAU;YACtBmE,QAAQ,EAAEpC,GAAG,IAAID,SAAS,CAAC,WAAW,EAAEC,GAAG,CAAE;YAC7CqC,KAAK,EAAEA,CAAA,KAAM1C,MAAM,CAAC,WAAW,EAAEV,UAAU,EAAEC,aAAa,CAAE;YAC5DoD,OAAO,EAAErD,UAAW;YACpBsD,UAAU,EAAErD,aAAc;YAC1BsD,WAAW,EAAC;UAAa;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACFzF,OAAA,CAAC2F,OAAO;YACNd,KAAK,EAAC,qBAAqB;YAC3Be,KAAK,EAAEtD,IAAI,CAACX,WAAY;YACxBkE,QAAQ,EAAEpC,GAAG,IAAID,SAAS,CAAC,aAAa,EAAEC,GAAG,CAAE;YAC/CqC,KAAK,EAAEA,CAAA,KAAM1C,MAAM,CAAC,aAAa,EAAER,aAAa,EAAEC,gBAAgB,CAAE;YACpEkD,OAAO,EAAEnD,aAAc;YACvBoD,UAAU,EAAEnD,gBAAiB;YAC7BoD,WAAW,EAAC;UAAgB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKqF,SAAS,EAAC,mCAAmC;QAAAD,QAAA,gBAChDpF,OAAA;UAAIqF,SAAS,EAAC,0CAA0C;UAAAD,QAAA,EAAC;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnFzF,OAAA;UAAKqF,SAAS,EAAC,uCAAuC;UAAAD,QAAA,gBACpDpF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,oBAAoB;YAACtD,IAAI,EAAC,oBAAoB;YAAC0E,WAAW,EAAC;UAA0B;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC1GzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,eAAe;YAACtD,IAAI,EAAC,wBAAwB;YAAC0E,WAAW,EAAC;UAAqB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpGzF,OAAA,CAAC4E,UAAU;YAACC,KAAK,EAAC,cAAc;YAACtD,IAAI,EAAC,uBAAuB;YAAC0E,WAAW,EAAC;UAAoB;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9F,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENzF,OAAA;QAAKqF,SAAS,EAAC,4BAA4B;QAAAD,QAAA,gBACzCpF,OAAA;UACE8E,IAAI,EAAC,QAAQ;UACbuB,OAAO,EAAEA,CAAA,KAAMlE,QAAQ,CAAC,WAAW,CAAE;UACrCkD,SAAS,EAAC,4EAA4E;UAAAD,QAAA,EACvF;QAED;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTzF,OAAA;UACE8E,IAAI,EAAC,QAAQ;UACb2B,QAAQ,EAAErE,OAAQ;UAClBiD,SAAS,EAAC,mFAAmF;UAAAD,QAAA,EAE5FhD,OAAO,GAAG,WAAW,GAAG;QAAa;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAACvD,EAAA,CAhQID,UAAU;EAAA,QACG7C,WAAW;AAAA;AAAAsH,EAAA,GADxBzE,UAAU;AAkQhB,eAAeA,UAAU;AAAC,IAAAyE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}